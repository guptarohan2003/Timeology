if (self.CavalryLogger) { CavalryLogger.start_js(["lzpqM"]); }

__d("MessengerRTCVideoCallButtonReact.re",["MessengerRTCVideoCallButtonReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerRTCVideoCallButtonReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerRTCVoiceCallButtonReact.re",["MessengerRTCVoiceCallButtonReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;f.jsComponent=a}),null);
__d("RTWebMercuryDialogBase.react",["MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerDialogHeaderReact.re").make,h=400;function a(a){var c,d=a.body,e=a.acceptLabel,f=a.declineLabel,i=a.onClose;a=a.title;var j=function(){i(!0)},k=function(){i(!1)};return(c=b("React")).jsxs(b("MessengerDialog.react"),{width:h,layerHideOnBlur:!1,children:[c.jsx(g,{autofocus:!0,children:a}),c.jsx(b("MessengerDialogBody.react"),{children:d}),c.jsxs(b("MessengerDialogFooter.react"),{children:[c.jsx(b("MessengerDialogButton.react"),{label:f,onClick:k,type:"secondary",use:"default"}),c.jsx(b("MessengerDialogButton.react"),{label:e,onClick:j,type:"primary",use:"default"})]})]})}e.exports=a}),null);
__d("useRTWebMercuryIncomingCallDialog",["fbt","requireDeferred","MessengerDialogs.re","RTWebMercuryDialogBase.react","RTWebStrings","ZenonUserActionLogger","deferredLoadComponent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogs.re").removeDialog,i=b("MessengerDialogs.re").showDialog,j=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryIncomingCallContent.react")),k=function(){h({})};function a(){__p&&__p();return function(a){__p&&__p();var c=a.inviterID,d=a.isVideoCall,e=a.onAccept,f=a.onDecline,h=a.participantIDs;b("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"});a=h.length>1;var l=a?d?g._("Incoming Group Video Chat"):g._("Incoming Group Call"):d?b("RTWebStrings").incomingVideoChat:g._("Incoming call"),m=a?g._("Ignore"):g._("Decline"),n=a?g._("Answer Call"):g._("Accept");i(function(){return b("React").jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:n,body:b("React").jsx(j,{inviterID:c,isVideoCall:d,participantIDs:h}),declineLabel:m,onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"accept_button":"decline_button",surface:"incoming_call_dialog"});k();return a?e():f()},title:l})});return{dismiss:k}}}e.exports=a}),null);
__d("useRTWebMercuryMissedCallDialog",["fbt","requireDeferred","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogs.re").removeDialog,i=b("MessengerDialogs.re").showDialog,j=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryMissedCallContent.react")),k=function(){h({})};function a(){__p&&__p();return function(a){__p&&__p();var c=a.inviterID,d=a.isVideoCall,e=a.onCallback,f=a.participantIDs,h=a.timeMissed;b("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"});var l=g._("Missed Call"),m=g._("Close"),n=g._("Call Back");i(function(){return b("React").jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:n,body:b("React").jsx(j,{inviterID:c,isVideoCall:d,participantIDs:f,timeMissed:h}),declineLabel:m,onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"call_back":"close_dialog",surface:"missed_call_dialog"});a&&b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"missed_call_dialog"});k();return a?e():void 0},title:l})});return{dismiss:k}}}e.exports=a}),null);
__d("useRTWebMercuryUnsupportedBrowserDialog",["fbt","requireDeferred","FBRTCConfig","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogs.re").removeDialog,i=b("MessengerDialogs.re").showDialog,j=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryUnsupportedBrowserContent.react")),k=function(){h({})};function a(){return function(a){var c=a.isVideoCall;b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});var d=g._("OK"),e=g._("Learn More"),f=g._("Switch Browsers to Make Calls");i(function(){return b("React").jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:d,body:b("React").jsx(j,{isVideoCall:c,onClose:k}),declineLabel:e,onClose:function(a){a===!1&&window.open(b("FBRTCConfig").unsupportedBrowserUrl(),"_blank"),k()},title:f})});return{dismiss:k}}}e.exports=a}),null);
__d("RTWebMercuryCallInviteDialogs.react",["CurrentUser","React","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","useRTWebMercuryIncomingCallDialog","useRTWebMercuryMissedCallDialog","useRTWebMercuryUnsupportedBrowserDialog","useZenonDialogController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("RTWebPreCallHooks").useAcceptCallCallback,i=b("RTWebPreCallHooks").useStartCallCallback;function a(a){__p&&__p();var c=a.invite,d=b("CurrentUser").getID();a=g(b("RTWebPreCallContext"));var e=b("useRTWebMercuryIncomingCallDialog")(),f=b("useRTWebMercuryMissedCallDialog")(),j=b("useRTWebMercuryUnsupportedBrowserDialog")(),k=h(),l=i(),m=a?a.callInviteModel:null;b("useZenonDialogController")(c,function(){__p&&__p();if(c===null||m==null)return null;switch(c.type){case"ringing":return e({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onAccept:function(){k({trigger:"mercury_incoming_dialog_accept_button"})},onDecline:function(){m.decline("IgnoreCall")},participantIDs:c.participants});case"missed":return f({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onCallback:function(){l({existingCall:null,invitees:[c.inviterID].concat(c.participants.filter(function(a){return a!==d})),mediaType:c.requestingVideo?"video":"audio",thread:c.thread,trigger:"mercury_missed_call_dialog"}),m.dismiss()},participantIDs:c.participants,timeMissed:new Date(b("ServerTime").getMillis())});case"unsupported_browser":return j({isVideoCall:c.requestingVideo});default:return null}});return null}e.exports=a}),null);
__d("RTWebMercuryCallInviteController.react",["requireDeferred","React","RTWebCallInviteDesktopNotification.react","RTWebMercuryCallInviteDialogs.react","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("requireDeferred")("FBRTCCallSummaryUploader");c.onReady(function(a){a.init()});function a(){var a;b("RTWebPreCallHooks").useNoAnswerTimeout();var c=b("RTWebPreCallHooks").useCallInvite();return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx(b("RTWebMercuryCallInviteDialogs.react"),{invite:c}),a.jsx(b("RTWebCallInviteDesktopNotification.react"),{invite:c}),a.jsx(b("ZenonCallInviteRingtone.react"),{invite:c}),a.jsx(b("ZenonCallInviteTitleBlinking.react"),{invite:c})]})}e.exports=a}),null);
__d("RTWebMercuryPreCallProvider.react",["FBLogger","React","RelayFBDefaultEnvironment","RTWebPreCallContext","RTWebPreCallContextSingleton","useStable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect;function a(a){a=a.children;var c=b("useStable")(function(){try{return b("RTWebPreCallContextSingleton").create({relayEnvironment:b("RelayFBDefaultEnvironment")})}catch(a){b("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}});g(function(){c&&(b("RTWebPreCallContextSingleton").init(),c.callInviteModel.startListening({callsBlocked:!1}))},[c]);return b("React").jsx(b("RTWebPreCallContext").Provider,{value:c,children:a})}e.exports=a}),null);
__d("RTWebMercuryOutgoingGroupCallContactListItem.react",["ix","Image.react","Link.react","MessengerContactImageReact.re","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerContactImageReact.re").jsComponent,j=32;function a(a){var c=a.member,d=a.isSelected,e=a.toggle;return b("React").jsxs(b("Link.react"),{"aria-checked":d,className:"kqqcwhbg l3ldwz01 suikxctu laml0ql6 alzwoclg",onClick:function(){e({id:c.id,name:c.name,isSelected:d})},role:"checkbox",children:[b("React").jsx(i,{className:"e4ay1f3w rl78xhln aesu6q9g srn514ro alzwoclg i85zmo3j",size:j,src:(a=c.profilePictureUrl)!=null?a:void 0}),b("React").jsxs("div",{className:"tsb96kwe tgm57n0e i15ihif8 cgu29s5g alzwoclg cd17qaie tamrfgvs qlm7rsnd ccoa9djf",children:[b("React").jsxs("div",{className:"tsb96kwe qm54mken tkmi5398 jcxyg2ei cqf1kptm tgm57n0e i15ihif8 cgu29s5g alzwoclg",children:[b("React").jsx("div",{className:"oshhggmv hf30pyar lq84ybu9 c61n2bf6 yav3l034",children:c.name}),c.vanity!=null&&c.vanity.length>0?b("React").jsxs("div",{className:"oshhggmv hf30pyar lq84ybu9 hg9jxets d36uvmw2",children:["@",c.vanity]}):null]}),d&&b("React").jsx("div",{className:"tkmi5398 alzwoclg d36uvmw2 i85zmo3j",children:b("React").jsx(b("Image.react"),{src:g("86852")})})]})]})}(h||(h=b("stylex"))).inject(".alzwoclg{display:flex}",1);h.inject(".laml0ql6{height:50px}",1);h.inject(".suikxctu:hover{background-color:rgba(0,0,0,.05)}",8);h.inject(".l3ldwz01:hover{text-decoration:none}",7.1);h.inject(".kqqcwhbg:active{background-color:rgba(0,0,0,.1)}",10);h.inject(".i85zmo3j{align-items:center}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".srn514ro{padding-top:0}",1);h.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");h.inject(".rl78xhln{padding-bottom:0}",1);h.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");h.inject(".ccoa9djf{border-top:1px solid gba(0,0,0,.1)}",.3);h.inject(".qlm7rsnd{border-right:1px solid gba(0,0,0,.1)}",.3,".qlm7rsnd{border-left:1px solid gba(0,0,0,.1)}");h.inject(".tamrfgvs{border-bottom:1px solid gba(0,0,0,.1)}",.3);h.inject(".cd17qaie{border-left:1px solid gba(0,0,0,.1)}",.3,".cd17qaie{border-right:1px solid gba(0,0,0,.1)}");h.inject(".alzwoclg{display:flex}",1);h.inject(".cgu29s5g{flex-grow:1}",1);h.inject(".i15ihif8{flex-shrink:1}",1);h.inject(".tgm57n0e{flex-basis:auto}",1);h.inject(".tsb96kwe{width:0}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".cgu29s5g{flex-grow:1}",1);h.inject(".i15ihif8{flex-shrink:1}",1);h.inject(".tgm57n0e{flex-basis:auto}",1);h.inject(".cqf1kptm{flex-direction:column}",1);h.inject(".jcxyg2ei{justify-content:center}",1);h.inject(".tkmi5398{padding-right:12px}",1);h.inject(".qm54mken{white-space:nowrap}",1);h.inject(".tsb96kwe{width:0}",1);h.inject(".yav3l034{color:rgba(0,0,0,1)}",1);h.inject(".c61n2bf6{font-size:0.875rem}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1);h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".hg9jxets{font-size:0.6875rem}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1);h.inject(".i85zmo3j{align-items:center}",1);h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".tkmi5398{padding-right:12px}",1);e.exports=a}),null);
__d("RTWebMercuryOutgoingGroupCallContactList.react",["MessengerScrollableArea.react","React","RTWebMercuryOutgoingGroupCallContactListItem.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=a.members,d=a.participants,e=a.toggle;return b("React").jsx(b("MessengerScrollableArea.react"),{className:"mo8xk5sm siwz82at b0xaxs7y qr0j8cwd rf9zgmzs pu86zkx9",children:c.map(function(a){var c=d.some(function(b){return b.id===a.id});return b("React").jsx(b("RTWebMercuryOutgoingGroupCallContactListItem.react"),{member:a,isSelected:c,toggle:e},a.id)})})}(g||(g=b("stylex"))).inject(".pu86zkx9{background-color:#ffffff}",1);g.inject(".rf9zgmzs{border-top-left-radius:0 0 6px 6px}",1,".rf9zgmzs{border-top-right-radius:0 0 6px 6px}");g.inject(".qr0j8cwd{border-top-right-radius:0 0 6px 6px}",1,".qr0j8cwd{border-top-left-radius:0 0 6px 6px}");g.inject(".b0xaxs7y{border-bottom-right-radius:0 0 6px 6px}",1,".b0xaxs7y{border-bottom-left-radius:0 0 6px 6px}");g.inject(".siwz82at{border-bottom-left-radius:0 0 6px 6px}",1,".siwz82at{border-bottom-right-radius:0 0 6px 6px}");g.inject(".mo8xk5sm{max-height:383px}",1);e.exports=a}),null);
__d("RTWebMercuryOutgoingGroupCallMeta.react",["MercuryParticipantListRenderer","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.re","MessengerThreadImageReact.re","React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MessengerProfileImageWrapperReact.re").jsComponent,i=b("MessengerThreadImageReact.re").jsComponent,j=function(a,b){a.push({id:b.id,name:b.name,short_name:b.shortName});return a},k=function(a){return new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(a)};function a(a){var c=a.thread,d=a.viewer;a=a.members;var e=a.reduce(j,[]);return b("React").jsxs("div",{className:"jw0vj0hy alzwoclg br743ykl",children:[c.image_src!=null?b("React").jsx(i,{className:"qh2drquz alzwoclg i85zmo3j",participants:a,thread:c,viewer:d}):b("React").jsx(h,{className:"qh2drquz alzwoclg i85zmo3j",showBadge:!1,children:b("React").jsx(b("MercuryParticipantsImage.react"),{participants:c.participants,size:50})}),b("React").jsx("div",{className:"e4ay1f3w r9fxt90l aesu6q9g hmoou0mx hf30pyar lq84ybu9 jcxyg2ei cqf1kptm alzwoclg",children:c.name!=null?b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{className:"qm54mken oshhggmv hf30pyar lq84ybu9 k1z55t6l",thread:c,viewer:d}):b("React").jsx("span",{className:"qm54mken oshhggmv hf30pyar lq84ybu9 k1z55t6l",children:k(e)})})]})}(g||(g=b("stylex"))).inject(".br743ykl{border-bottom:1px solid rgba(0,0,0,.1)}",.3);g.inject(".alzwoclg{display:flex}",1);g.inject(".jw0vj0hy{min-height:68px}",1);g.inject(".i85zmo3j{align-items:center}",1);g.inject(".alzwoclg{display:flex}",1);g.inject(".qh2drquz{padding-left:12px}",1);g.inject(".alzwoclg{display:flex}",1);g.inject(".cqf1kptm{flex-direction:column}",1);g.inject(".jcxyg2ei{justify-content:center}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".hmoou0mx{padding-top:9px}",1);g.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");g.inject(".r9fxt90l{padding-bottom:9px}",1);g.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");g.inject(".k1z55t6l{font-size:0.9375rem}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".oshhggmv{text-overflow:ellipsis}",1);g.inject(".qm54mken{white-space:nowrap}",1);e.exports=a}),null);
__d("RTWebMercuryOutgoingGroupCallRingParticipantsRow.react",["fbt","React","intlList","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function a(a){a=a.names;return b("React").jsxs("div",{className:"e4ay1f3w r9fxt90l aesu6q9g hmoou0mx c61n2bf6 alzwoclg br743ykl",children:[b("React").jsx("div",{className:"tk6z8flf d36uvmw2",children:g._("Ring:")}),b("React").jsx("div",{className:"oshhggmv hf30pyar lq84ybu9 lpmtv4x5",children:b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)})]})}(h||(h=b("stylex"))).inject(".br743ykl{border-bottom:1px solid rgba(0,0,0,.1)}",.3);h.inject(".alzwoclg{display:flex}",1);h.inject(".c61n2bf6{font-size:0.875rem}",1);h.inject(".hmoou0mx{padding-top:9px}",1);h.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");h.inject(".r9fxt90l{padding-bottom:9px}",1);h.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".tk6z8flf{padding-right:9px}",1);h.inject(".lpmtv4x5{color:#0084ff}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1);e.exports=a}),null);
__d("RTWebMercuryOutgoingGroupCallContent.react",["fbt","CurrentUser","MercuryIDs","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerState.re","React","RTWebMercuryOutgoingGroupCallContactList.react","RTWebMercuryOutgoingGroupCallMeta.react","RTWebMercuryOutgoingGroupCallRingParticipantsRow.react","ZenonUserActionLogger","ZenonUsersHooks","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerDialogHeaderReact.re").make,j=b("MessengerDialogTitleReact.re").make,k=b("React").useEffect,l=b("React").useMemo,m=b("React").useState,n=460,o=function(a,c){return a.reduce(function(a,d){d=b("MercuryIDs").getUserIDFromParticipantID(d);d!=null&&d!==c&&a.push(d);return a},[])};function a(a){__p&&__p();var c=a.onCall,d=a.onClose,e=a.threadID,f=a.viewer;a=m([]);var h=a[0],p=a[1];a=m(null);var q=a[0],r=a[1];a=function(a){if(a.isSelected){p(h.filter(function(b){return b.id!==a.id}));return}var b=h.slice();b.push(babelHelpers["extends"]({},a,{isSelected:!0}));p(b)};k(function(){b("MessengerState.re").getThreadMeta(b("CurrentUser").getID(),"thread:"+e,function(a){r(a)})},[e,r]);var s=l(function(){return o(q?q.participants:[],f)},[q,f]);s=b("ZenonUsersHooks").useZenonUsers(s).toArray();if(q===null||s.length===0)return null;b("ZenonUserActionLogger").logImpression({surface:"group_call_participant_picker_dialog"});return b("React").jsx(b("MessengerDialog.react"),{type:"default",width:n,children:b("React").jsxs("div",{className:"nrr9agux",children:[b("React").jsxs(i,{children:[b("React").jsx(b("MessengerDialogCancelButton.react"),{onClick:function(){b("ZenonUserActionLogger").logClick({component:"close_dialog",surface:"group_call_participant_picker_dialog"}),d()}}),b("React").jsx(j,{autofocus:!0,children:g._("Call group members")}),b("React").jsx(b("MessengerDialogButton.react"),{label:g._("Call"),onClick:function(){b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"group_call_participant_picker_dialog"}),c(h.map(function(a){a=a.id;return a})),d()},disabled:h.length===0,type:"primary",use:"default"})]}),b("React").jsx(b("RTWebMercuryOutgoingGroupCallMeta.react"),{thread:q,viewer:f,members:s}),b("React").jsx(b("RTWebMercuryOutgoingGroupCallRingParticipantsRow.react"),{names:h.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),b("React").jsx(b("RTWebMercuryOutgoingGroupCallContactList.react"),{members:s,participants:h,toggle:a})]})})}(h||(h=b("stylex"))).inject(".nrr9agux{height:540px}",1);e.exports=a}),null);
__d("useRTWebMercuryOutgoingGroupCallDialog",["MessengerDialogs.re","React","RTWebMercuryOutgoingGroupCallContent.react"],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){var c=a.onCall,d=a.threadID,e=a.viewer;b("MessengerDialogs.re").showDialog(function(){return b("React").jsx(b("RTWebMercuryOutgoingGroupCallContent.react"),{onCall:c,onClose:function(){b("MessengerDialogs.re").removeDialog({})},threadID:d,viewer:e})})}}e.exports=a}),null);
__d("useRTWebMercuryOutgoingUnsupportedBrowserDialog",["fbt","requireDeferred","FBRTCConfig","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogs.re").removeDialog,i=b("MessengerDialogs.re").showDialog,j=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryOutgoingUnsupportedBrowserContent.react")),k=function(){h({})};function a(){return function(a){var c=a.isVideoCall;b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});var d=g._("OK"),e=g._("Learn More"),f=g._("Switch Browsers to Make Calls");i(function(){return b("React").jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:d,body:b("React").jsx(j,{isVideoCall:c,onClose:k}),declineLabel:e,onClose:function(a){a===!1&&window.open(b("FBRTCConfig").unsupportedBrowserUrl(),"_blank"),k()},title:f})});return{dismiss:k}}}e.exports=a}),null);
__d("useRTWebMercuryStartCallCallback",["CurrentUser","FBLogger","React","RTWebPreCallContext","RTWebPreCallHooks","useRTWebMercuryOutgoingGroupCallDialog","useRTWebMercuryOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useContext;function a(){__p&&__p();var a=b("CurrentUser").getID(),c=b("RTWebPreCallHooks").useStartCallCallback(),d=b("useRTWebMercuryOutgoingGroupCallDialog")(),e=b("useRTWebMercuryOutgoingUnsupportedBrowserDialog")(),f=h(b("RTWebPreCallContext"));return g(function(g){__p&&__p();var h=g.existingCall,i=g.mediaType,j=g.thread,k=g.trigger;if(!f||!f.incomingRingSDK.isCallSupported({threadType:j.type,type:"thread"}))e({isVideoCall:i==="video"});else switch(j.type){case 1:c({existingCall:h,invitees:[j.id],mediaType:i,thread:j,trigger:k});break;case 2:h===null||h.call_state==="NO_ONGOING_CALL"?d({onCall:function(a){c({existingCall:h,invitees:a,mediaType:i,thread:j,trigger:k})},threadID:j.id,viewer:a}):c({existingCall:h,invitees:[],mediaType:i,thread:j,trigger:k});break;default:b("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",j.type)}},[a,f,d,e,c])}e.exports=a}),null);
__d("RTWebMercuryCallButton.react",["Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.re","MessengerRTCVoiceCallButtonReact.re","React","ZenonUserActionLogger","useEffectOnce","useRTWebMercuryStartCallCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerRTCVideoCallButtonReact.re").jsComponent,h=b("MessengerRTCVoiceCallButtonReact.re").jsComponent,i=b("React").useMemo;function a(a){__p&&__p();var c=a.thread,d=a.threadID,e=a.className,f=a.isVideo;a=a.customColor;var k=i(function(){return b("MessengerRTCInvokeHandler").isCallable(d,c)},[c,d]),l=b("useRTWebMercuryStartCallCallback")(),m=b("MercuryIDs").isGroupChat(d);a={customColor:a,isAvailable:k,isGroupChat:m};var n=j(c);b("useEffectOnce")(function(){b("ZenonUserActionLogger").logImpression({surface:"messenger_header",component:f?"video_button":"audio_button"})});return n!=null?b("React").jsx(b("Link.react"),{className:e,onClick:function(){b("ZenonUserActionLogger").logClick({surface:"messenger_header",component:f?"video_button":"audio_button"}),l({existingCall:c.rtc_call_data!=null?c.rtc_call_data:null,mediaType:f?"video":"audio",thread:{id:b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),type:n},trigger:f?"messenger_dot_com_video_call":"messenger_dot_com_audio_call"})},role:"button",children:f?b("React").jsx(g,babelHelpers["extends"]({},a)):b("React").jsx(h,babelHelpers["extends"]({},a))}):null}function j(a){switch(a.thread_type){case 2:return 2;case 1:return 1;default:return null}}e.exports=a}),null);